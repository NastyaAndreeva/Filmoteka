!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequire3143;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,n){a[e]=n},n.parcelRequire3143=r);var l=r("bpxeT"),o=r("2TvXO"),i=r("l5bVx"),c=e(r("WMajR")).template({1:function(n,t,a,r,l){var o,c=null!=t?t:n.nullContext||{},u=n.hooks.helperMissing,s="function",d=n.escapeExpression,p=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"  <div class='movie-card'>\n    <img\n      src='https://image.tmdb.org/t/p/w500"+d((void 0===(o=null!=(o=p(a,"poster_path")||(null!=t?p(t,"poster_path"):t))?o:u)?"undefined":e(i)(o))===s?o.call(c,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:42},end:{line:4,column:57}}}):o)+"'\n      alt="+d((void 0===(o=null!=(o=p(a,"name")||(null!=t?p(t,"name"):t))?o:u)?"undefined":e(i)(o))===s?o.call(c,{name:"name",hash:{},data:l,loc:{start:{line:5,column:10},end:{line:5,column:18}}}):o)+"\n      \n      data-id='"+d((void 0===(o=null!=(o=p(a,"id")||(null!=t?p(t,"id"):t))?o:u)?"undefined":e(i)(o))===s?o.call(c,{name:"id",hash:{},data:l,loc:{start:{line:7,column:15},end:{line:7,column:21}}}):o)+"'\n    />\n    <div class='movie-data'>\n      <h5 class='movie-name'>"+d((void 0===(o=null!=(o=p(a,"name")||(null!=t?p(t,"name"):t))?o:u)?"undefined":e(i)(o))===s?o.call(c,{name:"name",hash:{},data:l,loc:{start:{line:10,column:29},end:{line:10,column:37}}}):o)+"</h5>\n      <p class='movie-info'>"+d((void 0===(o=null!=(o=p(a,"genres")||(null!=t?p(t,"genres"):t))?o:u)?"undefined":e(i)(o))===s?o.call(c,{name:"genres",hash:{},data:l,loc:{start:{line:11,column:28},end:{line:11,column:38}}}):o)+" | "+d((void 0===(o=null!=(o=p(a,"release")||(null!=t?p(t,"release"):t))?o:u)?"undefined":e(i)(o))===s?o.call(c,{name:"release",hash:{},data:l,loc:{start:{line:11,column:41},end:{line:11,column:52}}}):o)+" <span class='movie-vote'>"+d((void 0===(o=null!=(o=p(a,"vote_average")||(null!=t?p(t,"vote_average"):t))?o:u)?"undefined":e(i)(o))===s?o.call(c,{name:"vote_average",hash:{},data:l,loc:{start:{line:11,column:78},end:{line:11,column:94}}}):o)+"</span></p>\n    </div>\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,r){var l;return null!=(l=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?l:""},useData:!0}),u=r("zBkAB"),s=r("lFa0r"),d=r("dIxxU").default,p="842344de8347536aefc6f17e8e76d4bd",m="https://api.themoviedb.org/3/movie/",f=document.querySelector("#library-gallery"),v=document.querySelector("#signout-library"),h=document.querySelector("#btn-watched"),g=document.querySelector("#btn-queue"),y=document.querySelector(".go-up");h.addEventListener("click",k),g.addEventListener("click",k),y.addEventListener("click",(function(){document.documentElement.scrollTop=0})),v.addEventListener("click",s.default.logOut),document.querySelector("#googleUserLibrary").textContent=localStorage.getItem("user-name");var b,w=1,x=!1,L="btn-queue";function k(e){return _.apply(this,arguments)}function _(){return(_=e(l)(e(o).mark((function n(t){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(L=t.target.id),e.next=4,(0,u.default)(L,t).then(E);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function q(e){!function(e){if("btn-watched"===e&&!h.classList.contains("active-btn"))return h.classList.toggle("active-btn"),void g.classList.toggle("active-btn");if("btn-queue"===e&&!g.classList.contains("active-btn"))g.classList.toggle("active-btn"),h.classList.toggle("active-btn")}(e),f.innerHTML="",w=1}function E(e){return O.apply(this,arguments)}function O(){return(O=e(l)(e(o).mark((function n(t){var a,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 12,b=t,a=12*(w-1),r=t.slice(a,a+12),e.next=6,T(r);case 6:r=e.sent,f.insertAdjacentHTML("beforeend",c(r)),document.body.style.cursor="default",x=!0;case 10:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function T(e){return S.apply(this,arguments)}function S(){return S=e(l)(e(o).mark((function n(t){var a;return e(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return document.body.style.cursor="wait",n.next=3,Promise.all(t.map(function(){var n=e(l)(e(o).mark((function n(t){var a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,d.get("".concat(m).concat(t),{params:{api_key:p,language:"ru-RU"}});case 3:return(t=(t=e.sent).data).name=t.title.toUpperCase(),t.release=(null===(a=t.release_date)||void 0===a?void 0:a.slice(0,4))||2022,t.genres=t.genres.map((function(e){return e.name})),e.abrupt("return",t);case 9:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 3:return a=n.sent,n.abrupt("return",Promise.resolve(a));case 5:case"end":return n.stop()}}),n)}))),S.apply(this,arguments)}(0,u.default)(L).then(E),window.addEventListener("scroll",(function(){document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+150&&x&&b.length/12>=w&&(x=!1,w++,E(b)),window.pageYOffset>70?y.classList.add("on-screen"):y.classList.remove("on-screen")}))}();
//# sourceMappingURL=library.f0f76bc6.js.map
