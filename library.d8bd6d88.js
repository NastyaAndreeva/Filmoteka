!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequire3143;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){l[e]=n},n.parcelRequire3143=a);var r,o=a("bpxeT"),u=a("2TvXO"),i=a("casf1"),c=a("l5bVx"),s=e(a("WMajR")).template({1:function(n,t,l,a,r){var o,u,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,d="function",f=n.escapeExpression,p=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"  <div class='movie-card'>\n"+(null!=(o=p(l,"if").call(i,null!=t?p(t,"poster_path"):t,{name:"if",hash:{},fn:n.program(2,r,0),inverse:n.program(4,r,0),data:r,loc:{start:{line:3,column:4},end:{line:15,column:11}}}))?o:"")+"\n    <div class='movie-data'>\n      <h5 class='movie-name'>"+f((void 0===(u=null!=(u=p(l,"name")||(null!=t?p(t,"name"):t))?u:s)?"undefined":e(c)(u))===d?u.call(i,{name:"name",hash:{},data:r,loc:{start:{line:18,column:29},end:{line:18,column:37}}}):u)+"</h5>\n      <p class='movie-info'>"+f((void 0===(u=null!=(u=p(l,"genres")||(null!=t?p(t,"genres"):t))?u:s)?"undefined":e(c)(u))===d?u.call(i,{name:"genres",hash:{},data:r,loc:{start:{line:19,column:28},end:{line:19,column:38}}}):u)+"\n        |\n        "+f((void 0===(u=null!=(u=p(l,"release")||(null!=t?p(t,"release"):t))?u:s)?"undefined":e(c)(u))===d?u.call(i,{name:"release",hash:{},data:r,loc:{start:{line:21,column:8},end:{line:21,column:19}}}):u)+"\n        <span class='movie-vote'>"+f((void 0===(u=null!=(u=p(l,"vote_average")||(null!=t?p(t,"vote_average"):t))?u:s)?"undefined":e(c)(u))===d?u.call(i,{name:"vote_average",hash:{},data:r,loc:{start:{line:22,column:33},end:{line:22,column:49}}}):u)+"</span></p>\n    </div>\n  </div>\n"},2:function(n,t,l,a,r){var o,u=null!=t?t:n.nullContext||{},i=n.hooks.helperMissing,s="function",d=n.escapeExpression,f=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"      <img\n        src='https://image.tmdb.org/t/p/w500"+d((void 0===(o=null!=(o=f(l,"poster_path")||(null!=t?f(t,"poster_path"):t))?o:i)?"undefined":e(c)(o))===s?o.call(u,{name:"poster_path",hash:{},data:r,loc:{start:{line:5,column:44},end:{line:5,column:59}}}):o)+"'\n        alt="+d((void 0===(o=null!=(o=f(l,"name")||(null!=t?f(t,"name"):t))?o:i)?"undefined":e(c)(o))===s?o.call(u,{name:"name",hash:{},data:r,loc:{start:{line:6,column:12},end:{line:6,column:20}}}):o)+"\n        data-id='"+d((void 0===(o=null!=(o=f(l,"id")||(null!=t?f(t,"id"):t))?o:i)?"undefined":e(c)(o))===s?o.call(u,{name:"id",hash:{},data:r,loc:{start:{line:7,column:17},end:{line:7,column:23}}}):o)+"'\n      />\n"},4:function(n,t,l,a,r){var o,u=null!=t?t:n.nullContext||{},i=n.hooks.helperMissing,s="function",d=n.escapeExpression,f=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"      <img\n        src='https://i.ibb.co/dJhXHZt/filmoteka.png'\n        alt="+d((void 0===(o=null!=(o=f(l,"name")||(null!=t?f(t,"name"):t))?o:i)?"undefined":e(c)(o))===s?o.call(u,{name:"name",hash:{},data:r,loc:{start:{line:12,column:12},end:{line:12,column:20}}}):o)+"\n        data-id='"+d((void 0===(o=null!=(o=f(l,"id")||(null!=t?f(t,"id"):t))?o:i)?"undefined":e(c)(o))===s?o.call(u,{name:"id",hash:{},data:r,loc:{start:{line:13,column:17},end:{line:13,column:23}}}):o)+"'\n      />\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var r;return null!=(r=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:25,column:9}}}))?r:""},useData:!0}),d=a("zBkAB"),f=a("lFa0r"),p=a("3SEMc"),m=a("havEz"),h=a("eDusH"),v=a("j1Fxp"),g=a("dIxxU").default,b=(0,p.getAuth)(),y=1,x=!1,w="btn-queue";function L(e){return E.apply(this,arguments)}function E(){return(E=e(o)(e(u).mark((function n(t){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(w=t.target.id),e.next=4,(0,d.default)(w,t).then(O);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function k(e){!function(e){if("btn-watched"===e&&!h.default.btnWatched.classList.contains("active-btn"))return h.default.btnWatched.classList.toggle("active-btn"),void h.default.btnQueue.classList.toggle("active-btn");if("btn-queue"===e&&!h.default.btnQueue.classList.contains("active-btn"))h.default.btnQueue.classList.toggle("active-btn"),h.default.btnWatched.classList.toggle("active-btn")}(e),h.default.galleryLibrary.innerHTML="",y=1}function O(e){return _.apply(this,arguments)}function _(){return(_=e(o)(e(u).mark((function n(t){var l,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 12,r=t,l=12*(y-1),a=t.slice(l,l+12),e.next=6,P(a);case 6:a=e.sent,h.default.galleryLibrary.insertAdjacentHTML("beforeend",s(a)),document.body.style.cursor="default",x=!0,a.length>0&&(h.default.footer.style.position="static");case 11:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function P(e){return M.apply(this,arguments)}function M(){return M=e(o)(e(u).mark((function n(t){var l;return e(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return document.body.style.cursor="wait",n.next=3,Promise.all(t.map(function(){var n=e(o)(e(u).mark((function n(t){var l,a,r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,g.get("".concat(i.default.GET_ONE_MOVIE_URL,"/").concat(t),{params:{api_key:i.default.API_KEY,language:"ru-RU"}});case 3:return(t=(t=e.sent).data).name=null==t||null===(l=t.title)||void 0===l?void 0:l.toUpperCase(),t.release=(null==t||null===(a=t.release_date)||void 0===a?void 0:a.slice(0,4))||2022,t.genres=null==t||null===(r=t.genres)||void 0===r?void 0:r.map((function(e){return e.name})),e.abrupt("return",t);case 9:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 3:return l=n.sent,n.abrupt("return",Promise.resolve(l));case 5:case"end":return n.stop()}}),n)}))),M.apply(this,arguments)}h.default.btnWatched.addEventListener("click",L),h.default.btnQueue.addEventListener("click",L),h.default.upBtn.addEventListener("click",v.default),h.default.btnSignOut.addEventListener("click",f.default.logOut),(0,p.onAuthStateChanged)(b,(function(e){e&&((0,d.default)(w).then(O),h.default.googleUserLibrary.textContent=m.default.userEmail)})),window.addEventListener("scroll",(function(){document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+150&&x&&r.length/12>=y&&(x=!1,y++,O(r)),window.pageYOffset>70?h.default.upBtn.classList.add("on-screen"):h.default.upBtn.classList.remove("on-screen")}))}();
//# sourceMappingURL=library.d8bd6d88.js.map
